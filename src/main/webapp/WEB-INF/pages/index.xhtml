<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="/WEB-INF/templates/base.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html">

    <!-- Título da página -->
    <ui:define name="#{sects.title}">
        #{msg['index.title']}
    </ui:define>
    <!-- Fim do Título -->

    <ui:param name="index" value="true"/>

    <!-- Conteúdo da página -->
    <ui:define name="#{sects.content}">
        <h:panelGroup rendered="#{sucessoObito}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Obito salvo com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{obitoConfirmado}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Obito confirmado com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{obitoRecusado}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Obito recusado com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{sucessoEntrevista}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Entrevista salva com sucesso!
                <a class="btn-flat success"
                   href="#{request.contextPath}#{contextUrls.relatorios}#{contextUrls.app_notificacao_entrevista}#{contextUrls.rlt_termo_autorizacao_doacao}#{contextUrls.imprimir}/#{idEntrevista}">
                   <!--<i class="icon-file"></i>-->
                    Emitir Termo
                </a>
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{entrevistaConfirmada}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Entrevista confirmada com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{entrevistaRecusada}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Entrevista recusada com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{captacaoSucesso}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Captação salva com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{captacaoConfirmada}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Captação confirmada com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{captacaoRecusada}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Captação recusada com sucesso!
            </div>
        </h:panelGroup>

        <h:panelGroup rendered="#{sucessoArquivamento}">
            <div class="alert alert-success">
                <i class="icon-save"/>
                Arquivado com sucesso!
            </div>
        </h:panelGroup>

        <!-- Notificações com óbito pendente de análise -->
        <h:panelGroup rendered="#{request.isUserInRole('ROLE_ANALISTA')}">
            <br/><h2>Análise de Óbito Pendente</h2><br/>
            <ui:include src="/WEB-INF/components/lista-processos-analisar-obito.xhtml">
                <ui:param name="processos" value="#{processosObitoAnalisePendente}"/>
            </ui:include>
        </h:panelGroup>

        <!-- Notificações com óbito aguardando correção -->
        <h:panelGroup rendered="#{not request.isUserInRole('ROLE_CAPTADOR')}">
            <br/><h2>Óbito aguardando correção</h2><br/>
            <ui:include src="/WEB-INF/components/lista-processos-corrigir-obito.xhtml">
                <ui:param name="processos" value="#{processosObitoAguardandoCorrecao}"/>
            </ui:include>
        </h:panelGroup>
        
        <br/><h2>Entrevista Aguardando Correção</h2><br/>
        <!-- Notificações com entrevista pendente de análise -->
        <ui:include src="/WEB-INF/components/lista-entrevista-aguardando-correcao.xhtml">
            <ui:param name="processos" value="#{processosEntrevistaAguardandoCorrecao}" />
        </ui:include>

        <h:panelGroup rendered="#{request.isUserInRole('ROLE_ANALISTA')}">
            <br/><h2>Análise de Entrevista Pendente</h2><br/>
            <!-- Notificações com entrevista pendente de análise -->
            <ui:include src="/WEB-INF/components/lista-processos-analisar-entrevista.xhtml">
                <ui:param name="processos" value="#{processosEntrevistaAnalisePendente}" />
            </ui:include>
        </h:panelGroup>

        <h:panelGroup rendered="#{request.isUserInRole('ROLE_ANALISTA')}">
            <br/><h2>Análise de Captação Pendente</h2><br/>
            <!-- Notificações com captação pendente de análise -->
            <ui:include src="/WEB-INF/components/lista-processos-analisar-captacao.xhtml">
                <ui:param name="processos" value="#{processosCaptacoesAnalisePendente}" />
            </ui:include>
        </h:panelGroup>

        <h:panelGroup rendered="#{not request.isUserInRole('ROLE_NOTIFICADOR')}">
            <br/><h2>Captação aguardando correção</h2><br/>
            <ui:include src="/WEB-INF/components/lista-processos-corrigir-captacao.xhtml">
                <ui:param name="processos" value="#{processosCaptacoesAguardandoCorrecao}"/>
            </ui:include>
        </h:panelGroup>

        <h:panelGroup rendered="#{request.isUserInRole('ROLE_ANALISTA')}">
            <br/><h2>Notificações Aguardando Arquivamento</h2><br/>
            <!-- Notificações aguardando o arquivamento -->
            <ui:include src="/WEB-INF/components/lista-processos-aguardando-arquivamento.xhtml">
                <ui:param name="processos" value="#{processosAguardandoArquivamento}" />
            </ui:include>
        </h:panelGroup>

    </ui:define>
    <!-- Fim do conteúdo -->

</ui:composition>
