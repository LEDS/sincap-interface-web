<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />


	<!-- bootstrap -->
	<h:outputStylesheet library="css/bootstrap" name="bootstrap_leds.css" />
	<h:outputStylesheet library="css/bootstrap"
		name="bootstrap-responsive.css" />
	<h:outputStylesheet library="css/bootstrap"
		name="bootstrap-overrides.css" />

	<!-- global styles -->
	<h:outputStylesheet library="css" name="layout.css" />
	<h:outputStylesheet library="css" name="elements.css" />
	<h:outputStylesheet library="css" name="icons.css" />


	<!-- libraries -->
	<h:outputStylesheet library="css/lib" name="icons.css" />
	<h:outputStylesheet library="css/lib" name="font-awesome.css" />

	<!-- this page specific styles -->
	<h:outputStylesheet library="css/compiled" name="signin.css"/>
	<!-- 	<h:outputStylesheet library="css/compiled" name="ui-elements.css" media="screen" /> -->
	<link rel="stylesheet" href="css/compiled/ui-elements.css"
		type="text/css" media="screen" />

	<!-- open sans font -->
	<link
		href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,800italic,400,300,600,700,800'
		rel='stylesheet' type='text/css' />

</h:head>

<h:body>

	<div class="row-fluid login-wrapper">
		<h:graphicImage library="img" name="logo-white.png" class="logo" />

		<div class="span4 box">
			<div class="content-wrap">
				<h6>Log in</h6>
				<form id="signInForm"
					action="http://${request.serverName}:${request.serverPort}${request.contextPath}/autenticar"
					method="post">

					<input id="username" name="username" class="span12" type="text" placeholder="CPF"
                                                value="#{usuario.username}" onblur="ajaxGetHospitais();"
                                                title="#{msg['login.text.usuario']}"/>
                                        <input id="password" name="password" class="span12" type="password" placeholder="Senha"
                                                value="#{usuario.password}"
                                                title="#{msg['login.text.senha']}"/>

					<h:outputLabel value="Hospital"/>
					<div class="ui-select">
                                                <h:selectOneMenu id="hospital" value="#{usuario.hospital}"
                                                             title="#{msg['login.text.hospital']}">
                                              </h:selectOneMenu>
                                        </div>
                                        
                                        <br/><br/>

					<!--<a href="#" class="forgot">#{msg['login.btn.esqueceuSenha']}</a>-->

					<button id="botaoLogin" type="submit"
						class="btn-glow primary login">#{msg['login.btn.entrar']}</button>
						

				</form>

			</div>
			<h:panelGroup rendered="#{not empty mensagem}">
				<div class="section">
					<div class="row-fluid">
						<div class="span6">
							<div class="alert alert-error">
								<i class="icon-remove-sign"></i> ${mensagem}
							</div>
						</div>
					</div>
				</div>
			</h:panelGroup>

		</div>
	</div>
	
	<!-- scripts -->
	<h:outputScript library="js" name="bootstrap.min.js" />
	<h:outputScript library="js" name="theme.js" />
	<h:outputScript library="js" name="sincaplib.js" />
	<h:outputScript library="js" name="jquery-2.0.3.js" />
	<h:outputScript library="js" name="jquery.mask.min.js" />
	<h:outputScript library="js" name="jquery.validate.min.js" />
	
	<script type="text/javascript">
		$(document).ready(function() {
			$(username).mask('000.000.000-00', {
				reverse : true
			});
		});

		//Validando os dados do formulario
		$("#signInForm").validate({
			rules : {
				username : {
					required : true,
					minlength : 11,
					
				},
				password : {
					required : true,
					minlength : 5
				},
				hospital : {
					required : true,
				}
			},
			messages : {
				username : {
					required : "Por favor, entre com o CPF.",
					minlength : "O CPF deve possuir 11 números."
				},
				password : {
					required : "Por favor, entre com a senha.",
					minlength : "A sua senha deve ter pelo menos 5 números."
				},
				hospital : {
					required : "Para que os hospitais apareçam, digite um CPF cadastrado.",
				}
			},
			submitHandler : function(form) {
				form.submit();
			}
		});
	</script>
	
</h:body>

</html>